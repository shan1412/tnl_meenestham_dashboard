{
  "gitSyncId": "66daa2a0ce775502082970ac_15e8fb31-2f30-4f0e-933a-dc252cdaae9a",
  "id": "Party_cader_v2_party_cader_dataset_dev",
  "pluginId": "postgres-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "body": "SELECT\n    \"ID\",\n    client_key,\n    lang,\n    photo,\n    requestor_type,\n    requestor_type_name,\n    \"name\",\n    registration_number,\n    \"Age\",\n    age_group,\n    gender,\n    requestor_contact,\n    requestor_alternate_contact,\n    mobile,\n    email,\n    occupation_id,\n    occupation,\n    constituency_type,\n    constituency_key,\n    constituency_name,\n    state_key,\n    state,\n    district_key,\n    district,\n    mandal_key,\n    mandal,\n    village_key,\n    village,\n    door_flat_no,\n    pin_code,\n    address_line1,\n    address_line2,\n    voter_id,\n    relation_type,\n    relation_name,\n    relation_contact,\n    relation_alternate_contact,\n    tags::text[],\n    requestor_grievance_info::json,\n    UNNEST(requestor_grievances) requestor_grievances,\n    1 no_of_grievances,\n    UNNEST(requestor_grievances_name) requestor_grievances_name,\n    UNNEST(requestor_grievances_name_key) requestor_grievances_name_key,\n    requestor_reference_type,\n    requestor_reference_relation,\n    additional_info,\n    members::json,\n    is_active,\n    created_by,\n    created_user_name,\n    created_on,\n    created_on_month,\n    created_on_year,\n    created_on_month_year,\n    \"LocationGranularity\",\n    TO_CHAR(created_on, 'YYYY-MM-DD') AS formatted_created_on\nFROM\n    (\n        SELECT\n            a.\"ID\",\n            client_key,\n            lang,\n            photo,\n            requestor_type,\n            requestor_type_name,\n            \"name\",\n            registration_number,\n            \"Age\",\n            age_group,\n            gender,\n            requestor_contact,\n            requestor_alternate_contact,\n            mobile,\n            email,\n            occupation_id,\n            occupation,\n            constituency_type,\n            constituency_key,\n            constituency_name,\n            state_key,\n            state,\n            district_key,\n            district,\n            mandal_key,\n            mandal,\n            village_key,\n            village,\n            door_flat_no,\n            pin_code,\n            address_line1,\n            address_line2,\n            voter_id,\n            relation_type,\n            relation_name,\n            relation_contact,\n            relation_alternate_contact,\n            tags::text,\n            requestor_grievance_info::text,\n            requestor_grievances,\n            array_textdistinct(string_to_array(string_agg(gi.\"GrievanceTypeName\"::text, ','::text), ','::text)) AS requestor_grievances_name,\n            array_textdistinct(string_to_array(string_agg(gi.\"GrievanceType\"::text, ','::text), ','::text)) AS requestor_grievances_name_key,\n            requestor_reference_type,\n            requestor_reference_relation,\n            additional_info,\n            members::text,\n            is_active,\n            created_by,\n            created_user_name,\n            created_on,\n            created_on_month,\n            created_on_year,\n            created_on_month_year,\n            CASE\n                WHEN constituency_key = 0 AND state_key = 0 AND district_key = 0 AND mandal_key = 0 AND village_key = 0 THEN 'Not-Relevant (Any Location)'\n                WHEN constituency_key != 0 AND state_key = 0 AND district_key = 0 AND mandal_key = 0 AND village_key = 0 THEN 'AC'\n                WHEN constituency_key != 0 AND state_key != 0 AND district_key = 0 AND mandal_key = 0 AND village_key = 0 THEN 'State'\n                WHEN constituency_key != 0 AND state_key != 0 AND district_key != 0 AND mandal_key = 0 AND village_key = 0 THEN 'Distrit'\n                WHEN constituency_key != 0 AND state_key != 0 AND district_key != 0 AND mandal_key != 0 AND village_key = 0 THEN 'Mandal'\n                WHEN constituency_key != 0 AND state_key != 0 AND district_key != 0 AND mandal_key != 0 AND village_key != 0 THEN 'Village'\n                WHEN constituency_key != 0 AND state_key = 0 AND district_key = 0 AND mandal_key = 0 AND village_key = 0 THEN 'Not-Relevant (Any Location)'\n                WHEN constituency_key = 0 AND state_key = 0 AND district_key = 0 AND mandal_key = 0 AND village_key = 0 THEN 'AC'\n                WHEN constituency_key = 0 AND state_key != 0 AND district_key = 0 AND mandal_key = 0 AND village_key = 0 THEN 'State'\n                WHEN constituency_key = 0 AND state_key != 0 AND district_key != 0 AND mandal_key = 0 AND village_key = 0 THEN 'Distrit'\n                WHEN constituency_key = 0 AND state_key != 0 AND district_key != 0 AND mandal_key != 0 AND village_key = 0 THEN 'Mandal'\n                WHEN constituency_key = 0 AND state_key != 0 AND district_key != 0 AND mandal_key != 0 AND village_key != 0 THEN 'Village'\n                WHEN constituency_key IS NULL AND state_key = 0 AND district_key = 0 AND mandal_key = 0 AND village_key = 0 THEN 'Not-Relevant (Any Location)'\n                WHEN constituency_key IS NULL AND state_key = 0 AND district_key = 0 AND mandal_key = 0 AND village_key = 0 THEN 'AC'\n                WHEN constituency_key IS NULL AND state_key != 0 AND district_key = 0 AND mandal_key = 0 AND village_key = 0 THEN 'State'\n                WHEN constituency_key IS NULL AND state_key != 0 AND district_key != 0 AND mandal_key = 0 AND village_key = 0 THEN 'Distrit'\n                WHEN constituency_key IS NULL AND state_key != 0 AND district_key != 0 AND mandal_key != 0 AND village_key = 0 THEN 'Mandal'\n                WHEN constituency_key IS NULL AND state_key != 0 AND district_key != 0 AND mandal_key != 0 AND village_key != 0 THEN 'Village'\n            END \"LocationGranularity\"\n        FROM\n            hubviews.vw_requestordataset a\n        JOIN connecthub.\"GrievanceInfo\" gi ON\n            gi.\"GrievanceKey\" = ANY(a.requestor_grievances)\n        WHERE\n            'Party Cadre' = ANY(Tags)\n            AND ARRAY_LENGTH(requestor_grievances, 1) <> 0\n            AND \"ClientKey\" = {{appsmith.URL.queryParams.client_key\t}}\n        GROUP BY\n            a.\"ID\",\n            client_key,\n            lang,\n            photo,\n            requestor_type,\n            requestor_type_name,\n            \"name\",\n            registration_number,\n            \"Age\",\n            age_group,\n            gender,\n            requestor_contact,\n            requestor_alternate_contact,\n            mobile,\n            email,\n            occupation_id,\n            occupation,\n            constituency_type,\n            constituency_key,\n            constituency_name,\n            state_key,\n            state,\n            district_key,\n            district,\n            mandal_key,\n            mandal,\n            village_key,\n            village,\n            door_flat_no,\n            pin_code,\n            address_line1,\n            address_line2,\n            voter_id,\n            relation_type,\n            relation_name,\n            relation_contact,\n            relation_alternate_contact,\n            tags::text,\n            requestor_grievance_info::text,\n            requestor_grievances,\n            requestor_reference_type,\n            requestor_reference_relation,\n            additional_info,\n            members::text,\n            is_active,\n            created_by,\n            created_user_name,\n            created_on,\n            created_on_month,\n            created_on_year,\n            created_on_month_year\n    ) a;\n",
      "encodeParamsToggle": true,
      "paginationType": "NONE",
      "pluginSpecifiedTemplates": [
        {
          "value": true
        }
      ],
      "timeoutInMillisecond": 10000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "dev",
      "isAutoGenerated": false,
      "name": "dev",
      "pluginId": "postgres-plugin"
    },
    "dynamicBindingPathList": [
      {
        "key": "body"
      }
    ],
    "executeOnLoad": true,
    "name": "party_cader_dataset_dev",
    "pageId": "Party_cader_v2",
    "userSetOnLoad": false
  }
}
{
  "gitSyncId": "66f68c3bce77550208297f72_8615ab70-d001-450c-989c-ee0c86b443f1",
  "id": "Party_cader_v2_party_cader_dataset_tnl",
  "pluginId": "postgres-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "body": "SELECT\n    \"id\",\n    client_key,\n    lang,\n    photo,\n    requestor_type,\n    requestor_type_name,\n    \"name\",\n    registration_number,\n    \"age\",\n    age_group,\n    gender,\n    requestor_contact,\n    requestor_alternate_contact,\n    mobile,\n    email,\n    occupation_id,\n    occupation,\n    constituency_type,\n    constituency_key,\n    constituency_name,\n    state_key,\n    state,\n    district_key,\n    district,\n    mandal_key,\n    mandal,\n    village_key,\n    village,\n    door_flat_no,\n    pin_code,\n    address_line1,\n    address_line2,\n    voter_id,\n    relation_type,\n    relation_name,\n    relation_contact,\n    relation_alternate_contact,\n    tags::text[],\n    requestor_grievance_info::json,\n    UNNEST(requestor_grievances) requestor_grievances,\n    1 no_of_grievances,\n    UNNEST(requestor_grievances_name) requestor_grievances_name,\n    UNNEST(requestor_grievances_name_key) requestor_grievances_name_key,\n    requestor_reference_type,\n    requestor_reference_relation,\n    additional_info,\n    members::json,\n    is_active,\n    created_by,\n    created_user_name,\n    created_on,\n    created_on_month,\n    created_on_year,\n    created_on_month_year,\n    \"LocationGranularity\",\n    TO_CHAR(created_on, 'YYYY-MM-DD') AS formatted_created_on\nFROM\n    (\n\t\t\tSELECT\n\t\t\ta.\"id\",\n\t\t\tclient_key,\n\t\t\tlang,\n\t\t\tphoto,\n\t\t\trequestor_type,\n\t\t\trequestor_type_name,\n\t\t\t\"name\",\n\t\t\tregistration_number,\n\t\t\t\"age\",\n\t\t\tage_group,\n\t\t\tgender,\n\t\t\trequestor_contact,\n\t\t\trequestor_alternate_contact,\n\t\t\tmobile,\n\t\t\temail,\n\t\t\toccupation_id,\n\t\t\toccupation,\n\t\t\tconstituency_type,\n\t\t\tconstituency_key,\n\t\t\tconstituency_name,\n\t\t\tstate_key,\n\t\t\tstate,\n\t\t\tdistrict_key,\n\t\t\tdistrict,\n\t\t\tmandal_key,\n\t\t\tmandal,\n\t\t\tvillage_key,\n\t\t\tvillage,\n\t\t\tdoor_flat_no,\n\t\t\tpin_code,\n\t\t\taddress_line1,\n\t\t\taddress_line2,\n\t\t\tvoter_id,\n\t\t\trelation_type,\n\t\t\trelation_name,\n\t\t\trelation_contact,\n\t\t\trelation_alternate_contact,\n\t\t\ttags::text,\n\t\t\trequestor_grievance_info::text,\n\t\t\trequestor_grievances,\n\t\t\tarray_textdistinct(string_to_array(string_agg(gi.\"GrievanceTypeName\"::text, ','::text), ','::text)) AS requestor_grievances_name,\n\t\t\tarray_textdistinct(string_to_array(string_agg(gi.\"GrievanceType\"::text, ','::text), ','::text)) AS requestor_grievances_name_key,\n\t\t\trequestor_reference_type,\n\t\t\trequestor_reference_relation,\n\t\t\tadditional_info,\n\t\t\tmembers::text,\n\t\t\tis_active,\n\t\t\tcreated_by,\n\t\t\tcreated_user_name,\n\t\t\tcreated_on,\n\t\t\tcreated_on_month,\n\t\t\tcreated_on_year,\n\t\t\tcreated_on_month_year,\n\t\t\tCASE\n\t\t\tWHEN constituency_key = 0 AND state_key = 0 AND district_key = 0 AND mandal_key = 0 AND village_key = 0 THEN 'Not-Relevant (Any Location)'\n\t\t\tWHEN constituency_key != 0 AND state_key = 0 AND district_key = 0 AND mandal_key = 0 AND village_key = 0 THEN 'AC'\n\t\t\tWHEN constituency_key != 0 AND state_key != 0 AND district_key = 0 AND mandal_key = 0 AND village_key = 0 THEN 'State'\n\t\t\tWHEN constituency_key != 0 AND state_key != 0 AND district_key != 0 AND mandal_key = 0 AND village_key = 0 THEN 'Distrit'\n\t\t\tWHEN constituency_key != 0 AND state_key != 0 AND district_key != 0 AND mandal_key != 0 AND village_key = 0 THEN 'Mandal'\n\t\t\tWHEN constituency_key != 0 AND state_key != 0 AND district_key != 0 AND mandal_key != 0 AND village_key != 0 THEN 'Village'\n\t\t\tWHEN constituency_key != 0 AND state_key = 0 AND district_key = 0 AND mandal_key = 0 AND village_key = 0 THEN 'Not-Relevant (Any Location)'\n\t\t\tWHEN constituency_key = 0 AND state_key = 0 AND district_key = 0 AND mandal_key = 0 AND village_key = 0 THEN 'AC'\n\t\t\tWHEN constituency_key = 0 AND state_key != 0 AND district_key = 0 AND mandal_key = 0 AND village_key = 0 THEN 'State'\n\t\t\tWHEN constituency_key = 0 AND state_key != 0 AND district_key != 0 AND mandal_key = 0 AND village_key = 0 THEN 'Distrit'\n\t\t\tWHEN constituency_key = 0 AND state_key != 0 AND district_key != 0 AND mandal_key != 0 AND village_key = 0 THEN 'Mandal'\n\t\t\tWHEN constituency_key = 0 AND state_key != 0 AND district_key != 0 AND mandal_key != 0 AND village_key != 0 THEN 'Village'\n\t\t\tWHEN constituency_key IS NULL AND state_key = 0 AND district_key = 0 AND mandal_key = 0 AND village_key = 0 THEN 'Not-Relevant (Any Location)'\n\t\t\tWHEN constituency_key IS NULL AND state_key = 0 AND district_key = 0 AND mandal_key = 0 AND village_key = 0 THEN 'AC'\n\t\t\tWHEN constituency_key IS NULL AND state_key != 0 AND district_key = 0 AND mandal_key = 0 AND village_key = 0 THEN 'State'\n\t\t\tWHEN constituency_key IS NULL AND state_key != 0 AND district_key != 0 AND mandal_key = 0 AND village_key = 0 THEN 'Distrit'\n\t\t\tWHEN constituency_key IS NULL AND state_key != 0 AND district_key != 0 AND mandal_key != 0 AND village_key = 0 THEN 'Mandal'\n\t\t\tWHEN constituency_key IS NULL AND state_key != 0 AND district_key != 0 AND mandal_key != 0 AND village_key != 0 THEN 'Village'\n\t\t\tEND \"LocationGranularity\"\n\t\t\tFROM\n\t\t\thubviews.vw_requestordataset a\n\t\t\tJOIN connecthub.\"GrievanceInfo\" gi ON\n\t\t\tgi.\"GrievanceKey\" = ANY(a.requestor_grievances)\n\t\t\tWHERE\n\t\t\t'Party Cadre' = ANY(Tags)\n\t\t\tAND ARRAY_LENGTH(requestor_grievances, 1) <> 0\n\t\t\tAND \"ClientKey\" ={{appsmith.URL.queryParams.client_key}}\n\t\t\tAND a.constituency_key = {{ui_elements_tnl.data[0]['ACKey']}}\n\t\t\tGROUP BY\n\t\t\ta.\"id\",\n\t\t\tclient_key,\n\t\t\tlang,\n\t\t\tphoto,\n\t\t\trequestor_type,\n\t\t\trequestor_type_name,\n\t\t\t\"name\",\n\t\t\tregistration_number,\n\t\t\t\"age\",\n\t\t\tage_group,\n\t\t\tgender,\n\t\t\trequestor_contact,\n\t\t\trequestor_alternate_contact,\n\t\t\tmobile,\n\t\t\temail,\n\t\t\toccupation_id,\n\t\t\toccupation,\n\t\t\tconstituency_type,\n\t\t\tconstituency_key,\n\t\t\tconstituency_name,\n\t\t\tstate_key,\n\t\t\tstate,\n\t\t\tdistrict_key,\n\t\t\tdistrict,\n\t\t\tmandal_key,\n\t\t\tmandal,\n\t\t\tvillage_key,\n\t\t\tvillage,\n\t\t\tdoor_flat_no,\n\t\t\tpin_code,\n\t\t\taddress_line1,\n\t\t\taddress_line2,\n\t\t\tvoter_id,\n\t\t\trelation_type,\n\t\t\trelation_name,\n\t\t\trelation_contact,\n\t\t\trelation_alternate_contact,\n\t\t\ttags::text,\n\t\t\trequestor_grievance_info::text,\n\t\t\trequestor_grievances,\n\t\t\trequestor_reference_type,\n\t\t\trequestor_reference_relation,\n\t\t\tadditional_info,\n\t\t\tmembers::text,\n\t\t\tis_active,\n\t\t\tcreated_by,\n\t\t\tcreated_user_name,\n\t\t\tcreated_on,\n\t\t\tcreated_on_month,\n\t\t\tcreated_on_year,\n\t\t\tcreated_on_month_year\n\t\t) a;\n",
      "encodeParamsToggle": true,
      "paginationType": "NONE",
      "pluginSpecifiedTemplates": [
        {
          "value": true
        }
      ],
      "timeoutInMillisecond": 10000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "tenali_db",
      "isAutoGenerated": false,
      "name": "tenali_db",
      "pluginId": "postgres-plugin"
    },
    "dynamicBindingPathList": [
      {
        "key": "body"
      }
    ],
    "executeOnLoad": true,
    "name": "party_cader_dataset_tnl",
    "pageId": "Party_cader_v2",
    "userSetOnLoad": false
  }
}
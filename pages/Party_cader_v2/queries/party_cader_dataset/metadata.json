{
  "gitSyncId": "66daa2a0ce775502082970ac_2b279269-5a8c-40bd-95f1-b1aa1a3e556f",
  "id": "Party_cader_v2_party_cader_dataset",
  "pluginId": "postgres-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "body": "select\n\t\"ID\",\n\tclient_key,\n\tlang,\n\tphoto,\n\trequestor_type,\n\trequestor_type_name,\n\t\"name\",\n\tregistration_number,\n\t\"Age\",\n\tage_group,\n\tgender,\n\trequestor_contact,\n\trequestor_alternate_contact,\n\tmobile,\n\temail,\n\toccupation_id,\n\toccupation,\n\tconstituency_type,\n\tconstituency_key,\n\tconstituency_name,\n\tstate_key,\n\tstate,\n\tdistrict_key,\n\tdistrict,\n\tmandal_key,\n\tmandal,\n\tvillage_key,\n\tvillage,\n\tdoor_flat_no,\n\tpin_code,\n\taddress_line1,\n\taddress_line2,\n\tvoter_id,\n\trelation_type,\n\trelation_name,\n\trelation_contact,\n\trelation_alternate_contact,\n\ttags::text[],\n\trequestor_grievance_info::json,\n\tUNNEST(requestor_grievances) requestor_grievances,\n\t1 no_of_grievances,\n\tUNNEST(requestor_grievances_name) requestor_grievances_name,\n\tUNNEST(requestor_grievances_name_key) requestor_grievances_name_key,\n\trequestor_reference_type,\n\trequestor_reference_relation,\n\tadditional_info,\n\tmembers::json,\n\tis_active,\n\tcreated_by,\n\tcreated_user_name,\n\tcreated_on,\n\tcreated_on_month,\n\tcreated_on_year,\n\tcreated_on_month_year,\n\t\"LocationGranularity\",\n\tTO_CHAR(created_on,\n\t'YYYY-MM-DD') as formatted_created_on\nfrom\n\t(\n\tselect\n\t\ta.\"ID\",\n\t\tclient_key,\n\t\tlang,\n\t\tphoto,\n\t\trequestor_type,\n\t\trequestor_type_name,\n\t\t\"name\",\n\t\tregistration_number,\n\t\t\"Age\",\n\t\tage_group,\n\t\tgender,\n\t\trequestor_contact,\n\t\trequestor_alternate_contact,\n\t\tmobile,\n\t\temail,\n\t\toccupation_id,\n\t\toccupation,\n\t\tconstituency_type,\n\t\tconstituency_key,\n\t\tconstituency_name,\n\t\tstate_key,\n\t\tstate,\n\t\tdistrict_key,\n\t\tdistrict,\n\t\tmandal_key,\n\t\tmandal,\n\t\tvillage_key,\n\t\tvillage,\n\t\tdoor_flat_no,\n\t\tpin_code,\n\t\taddress_line1,\n\t\taddress_line2,\n\t\tvoter_id,\n\t\trelation_type,\n\t\trelation_name,\n\t\trelation_contact,\n\t\trelation_alternate_contact,\n\t\ttags::text,\n\t\trequestor_grievance_info::text,\n\t\trequestor_grievances,\n\t\tarray_textdistinct(string_to_array(string_agg(gi.\"GrievanceTypeName\"::text,\n\t\t','::text),\n\t\t','::text)) as requestor_grievances_name,\n\t\tarray_textdistinct(string_to_array(string_agg(gi.\"GrievanceType\"::text,\n\t\t','::text),\n\t\t','::text)) as requestor_grievances_name_key,\n\t\trequestor_reference_type,\n\t\trequestor_reference_relation,\n\t\tadditional_info,\n\t\tmembers::text,\n\t\tis_active,\n\t\tcreated_by,\n\t\tcreated_user_name,\n\t\tcreated_on,\n\t\tcreated_on_month,\n\t\tcreated_on_year,\n\t\tcreated_on_month_year ,\n\t\tcase\n\t\t\twhen constituency_key = 0\n\t\t\tand state_key = 0\n\t\t\tand district_key = 0\n\t\t\tand mandal_key = 0\n\t\t\tand village_key = 0 then 'Not-Relevant (Any Location)'\n\t\t\twhen constituency_key != 0\n\t\t\tand state_key = 0\n\t\t\tand district_key = 0\n\t\t\tand mandal_key = 0\n\t\t\tand village_key = 0 then 'AC'\n\t\t\twhen constituency_key != 0\n\t\t\tand state_key != 0\n\t\t\tand district_key = 0\n\t\t\tand mandal_key = 0\n\t\t\tand village_key = 0 then 'State'\n\t\t\twhen constituency_key != 0\n\t\t\tand state_key != 0\n\t\t\tand district_key != 0\n\t\t\tand mandal_key = 0\n\t\t\tand village_key = 0 then 'Distrit'\n\t\t\twhen constituency_key != 0\n\t\t\tand state_key != 0\n\t\t\tand district_key != 0\n\t\t\tand mandal_key != 0\n\t\t\tand village_key = 0 then 'Mandal'\n\t\t\twhen constituency_key != 0\n\t\t\tand state_key != 0\n\t\t\tand district_key != 0\n\t\t\tand mandal_key != 0\n\t\t\tand village_key != 0 then 'Village'\n\t\t\twhen constituency_key != 0\n\t\t\tand state_key = 0\n\t\t\tand district_key = 0\n\t\t\tand mandal_key = 0\n\t\t\tand village_key = 0 then 'Not-Relevant (Any Location)'\n\t\t\twhen constituency_key = 0\n\t\t\tand state_key = 0\n\t\t\tand district_key = 0\n\t\t\tand mandal_key = 0\n\t\t\tand village_key = 0 then 'AC'\n\t\t\twhen constituency_key = 0\n\t\t\tand state_key != 0\n\t\t\tand district_key = 0\n\t\t\tand mandal_key = 0\n\t\t\tand village_key = 0 then 'State'\n\t\t\twhen constituency_key = 0\n\t\t\tand state_key != 0\n\t\t\tand district_key != 0\n\t\t\tand mandal_key = 0\n\t\t\tand village_key = 0 then 'Distrit'\n\t\t\twhen constituency_key = 0\n\t\t\tand state_key != 0\n\t\t\tand district_key != 0\n\t\t\tand mandal_key != 0\n\t\t\tand village_key = 0 then 'Mandal'\n\t\t\twhen constituency_key = 0\n\t\t\tand state_key != 0\n\t\t\tand district_key != 0\n\t\t\tand mandal_key != 0\n\t\t\tand village_key != 0 then 'Village'\n\t\t\twhen constituency_key is null\n\t\t\tand state_key = 0\n\t\t\tand district_key = 0\n\t\t\tand mandal_key = 0\n\t\t\tand village_key = 0 then 'Not-Relevant (Any Location)'\n\t\t\twhen constituency_key is null\n\t\t\tand state_key = 0\n\t\t\tand district_key = 0\n\t\t\tand mandal_key = 0\n\t\t\tand village_key = 0 then 'AC'\n\t\t\twhen constituency_key is null\n\t\t\tand state_key != 0\n\t\t\tand district_key = 0\n\t\t\tand mandal_key = 0\n\t\t\tand village_key = 0 then 'State'\n\t\t\twhen constituency_key is null\n\t\t\tand state_key != 0\n\t\t\tand district_key != 0\n\t\t\tand mandal_key = 0\n\t\t\tand village_key = 0 then 'Distrit'\n\t\t\twhen constituency_key is null\n\t\t\tand state_key != 0\n\t\t\tand district_key != 0\n\t\t\tand mandal_key != 0\n\t\t\tand village_key = 0 then 'Mandal'\n\t\t\twhen constituency_key is null\n\t\t\tand state_key != 0\n\t\t\tand district_key != 0\n\t\t\tand mandal_key != 0\n\t\t\tand village_key != 0 then 'Village'\n\t\tend \"LocationGranularity\"\n\tfrom\n\t\thubviews.vw_requestordataset a\n\tjoin connecthub.\"GrievanceInfo\" gi on\n\t\tgi.\"GrievanceKey\" = any(a.requestor_grievances)\n\twhere\n\t\t'Party Cadre' = any(Tags)\n\t\tand ARRAY_length(requestor_grievances,\n\t\t1) <> 0\n\tgroup by\n\t\ta.\"ID\",\n\t\tclient_key,\n\t\tlang,\n\t\tphoto,\n\t\trequestor_type,\n\t\trequestor_type_name,\n\t\t\"name\",\n\t\tregistration_number,\n\t\t\"Age\",\n\t\tage_group,\n\t\tgender,\n\t\trequestor_contact,\n\t\trequestor_alternate_contact,\n\t\tmobile,\n\t\temail,\n\t\toccupation_id,\n\t\toccupation,\n\t\tconstituency_type,\n\t\tconstituency_key,\n\t\tconstituency_name,\n\t\tstate_key,\n\t\tstate,\n\t\tdistrict_key,\n\t\tdistrict,\n\t\tmandal_key,\n\t\tmandal,\n\t\tvillage_key,\n\t\tvillage,\n\t\tdoor_flat_no,\n\t\tpin_code,\n\t\taddress_line1,\n\t\taddress_line2,\n\t\tvoter_id,\n\t\trelation_type,\n\t\trelation_name,\n\t\trelation_contact,\n\t\trelation_alternate_contact,\n\t\ttags::text,\n\t\trequestor_grievance_info::text,\n\t\trequestor_grievances,\n\t\trequestor_reference_type,\n\t\trequestor_reference_relation,\n\t\tadditional_info,\n\t\tmembers::text,\n\t\tis_active,\n\t\tcreated_by,\n\t\tcreated_user_name,\n\t\tcreated_on,\n\t\tcreated_on_month,\n\t\tcreated_on_year,\n\t\tcreated_on_month_year\n) a;",
      "encodeParamsToggle": true,
      "paginationType": "NONE",
      "pluginSpecifiedTemplates": [
        {
          "value": true
        }
      ],
      "timeoutInMillisecond": 10000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "stg",
      "isAutoGenerated": false,
      "name": "DEV",
      "pluginId": "postgres-plugin"
    },
    "dynamicBindingPathList": [],
    "executeOnLoad": true,
    "name": "party_cader_dataset",
    "pageId": "Party_cader_v2",
    "userSetOnLoad": false
  }
}